import{r as q,w as J,o as s,c as b,a as c,b as K,v as Q,d as N,e as B,f as z,T as L,F as M,g as P,u as j,h as y,n as Y,m as Z,_ as W,i as k,t as ee,j as te,k as ne}from"./index.46489e39.js";import{h as re,_ as ie,a as ae}from"./NoData.5fc3f8e7.js";import{_ as oe}from"./MoviePoster.f6062b53.js";const se=[{id:0,title:"action"},{id:1,title:"adventures"},{id:2,title:"comedy"},{id:3,title:"drama"},{id:4,title:"horror"},{id:5,title:"westerns"}];var le=typeof global=="object"&&global&&global.Object===Object&&global;const ce=le;var de=typeof self=="object"&&self&&self.Object===Object&&self,ue=ce||de||Function("return this")();const D=ue;var fe=D.Symbol;const v=fe;var R=Object.prototype,me=R.hasOwnProperty,ge=R.toString,h=v?v.toStringTag:void 0;function pe(e){var t=me.call(e,h),i=e[h];try{e[h]=void 0;var a=!0}catch{}var n=ge.call(e);return a&&(t?e[h]=i:delete e[h]),n}var be=Object.prototype,ye=be.toString;function he(e){return ye.call(e)}var xe="[object Null]",ve="[object Undefined]",A=v?v.toStringTag:void 0;function Te(e){return e==null?e===void 0?ve:xe:A&&A in Object(e)?pe(e):he(e)}function _e(e){return e!=null&&typeof e=="object"}var we="[object Symbol]";function je(e){return typeof e=="symbol"||_e(e)&&Te(e)==we}var ke=/\s/;function Se(e){for(var t=e.length;t--&&ke.test(e.charAt(t)););return t}var Oe=/^\s+/;function $e(e){return e&&e.slice(0,Se(e)+1).replace(Oe,"")}function O(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var F=0/0,Ie=/^[-+]0x[0-9a-f]+$/i,Ce=/^0b[01]+$/i,Ee=/^0o[0-7]+$/i,Ne=parseInt;function V(e){if(typeof e=="number")return e;if(je(e))return F;if(O(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=O(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=$e(e);var i=Ce.test(e);return i||Ee.test(e)?Ne(e.slice(2),i?2:8):Ie.test(e)?F:+e}var Be=function(){return D.Date.now()};const S=Be;var ze="Expected a function",Le=Math.max,Me=Math.min;function Pe(e,t,i){var a,n,u,f,o,d,m=0,$=!1,g=!1,T=!0;if(typeof e!="function")throw new TypeError(ze);t=V(t)||0,O(i)&&($=!!i.leading,g="maxWait"in i,u=g?Le(V(i.maxWait)||0,t):u,T="trailing"in i?!!i.trailing:T);function _(r){var l=a,p=n;return a=n=void 0,m=r,f=e.apply(p,l),f}function G(r){return m=r,o=setTimeout(x,t),$?_(r):f}function U(r){var l=r-d,p=r-m,E=t-l;return g?Me(E,u-p):E}function I(r){var l=r-d,p=r-m;return d===void 0||l>=t||l<0||g&&p>=u}function x(){var r=S();if(I(r))return C(r);o=setTimeout(x,U(r))}function C(r){return o=void 0,T&&a?_(r):(a=n=void 0,f)}function H(){o!==void 0&&clearTimeout(o),m=0,a=d=n=o=void 0}function X(){return o===void 0?f:C(S())}function w(){var r=S(),l=I(r);if(a=arguments,n=this,d=r,l){if(o===void 0)return G(d);if(g)return clearTimeout(o),o=setTimeout(x,t),_(d)}return o===void 0&&(o=setTimeout(x,t)),f}return w.cancel=H,w.flush=X,w}const We={class:"p-5 !pt-20 lg:p-16 h-full w-full flex flex-col max-w-2xl mx-auto flex-1"},Ae={class:"mx-auto mb-7 w-full flex items-center justify-center gap-5"},Fe={class:"dropdown dropdown-bottom dropdown-end"},Ve={tabindex:"0",class:"btn btn-sm m-1 lowercase flex gap-2"},De={tabindex:"0",class:"dropdown-content menu p-2 shadow bg-base-100 rounded-box w-52"},Re=["onClick"],Ge={key:0},qe={__name:"Movies",setup(e){const t=q({genres:new Set,movies:[],input:"",loading:!0});return J([()=>t.genres.size,()=>t.input],Pe(async()=>{try{t.loading=!0;const{data:i}=await re.get("/movies",{params:{name:t.input,genres:[...t.genres]}});t.movies=i.data}catch{}finally{t.loading=!1}},500),{immediate:!0}),(i,a)=>(s(),b("main",We,[c("div",Ae,[K(c("input",{"onUpdate:modelValue":a[0]||(a[0]=n=>t.input=n),type:"text",placeholder:"Type here",class:"input input-bordered input-primary w-full input-sm max-w-xs"},null,512),[[Q,t.input]]),c("div",Fe,[c("label",Ve,[N(" genre "),B(L,null,{default:z(()=>[t.genres.size?(s(),y(W,{key:0,d:j(Z),class:"w-4 h-4 mr-0 ml-auto"},null,8,["d"])):k("",!0)]),_:1})]),c("ul",De,[(s(!0),b(M,null,P(j(se),n=>(s(),b("li",{key:n.id},[c("button",{class:"flex gap-5 items-center",onClick:u=>t.genres[t.genres.has(n.id)?"delete":"add"](n.id)},[N(ee(n.title)+" ",1),t.genres.has(n.id)?(s(),y(W,{key:0,d:j(te),class:"w-6 h-6 mr-0 ml-auto"},null,8,["d"])):k("",!0)],8,Re)]))),128)),B(L,null,{default:z(()=>[t.genres.size?(s(),b("li",Ge,[c("button",{class:"flex gap-5 items-center font-bold",onClick:a[1]||(a[1]=(...n)=>t.genres.clear&&t.genres.clear(...n))}," reset ")])):k("",!0)]),_:1})])])]),c("div",{class:Y(["movie-grid",[!t.loading&&t.movies.length?"grid after:flex":"flex flex-1"]])},[t.loading?(s(),y(ie,{key:0,size:"32",class:"m-auto"})):t.movies.length?(s(!0),b(M,{key:2},P(t.movies,n=>(s(),y(oe,ne({key:n.id},n),null,16))),128)):(s(),y(ae,{key:1,size:"32",class:"m-auto"}))],2)]))}};export{qe as default};
