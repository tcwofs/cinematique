import{o as l,c as m,w as x,a as o,b as O,u as h,R as B,d as I,r as J,e as K,f as y,g as Q,v as Y,T as P,F as z,h as R,n as Z,m as ee,_ as W,i as k,t as te,j as ne,k as re}from"./index.7a6cac86.js";import{h as ie,_ as ae,a as oe}from"./NoData.9a66d54d.js";const se=["src","alt"],le={class:"card-body group-hover:opacity-100 md:opacity-0 transition-opacity"},ce=["innerHTML"],de={class:"card-actions justify-end mb-0 mt-auto"},ue={__name:"MoviePoster",props:{name:{type:String,required:!0},id:{type:[Number,String],required:!0},description:{type:String,default:""},image:{type:String,default:""}},setup(e){const t=e;return(i,a)=>(l(),m(h(B),{to:`/movie/${t.id}`,class:"card shadow-xl image-full rounded-none group transition-all before:transition-all duration-1000 hover:before:!bg-opacity-80 md:before:!bg-opacity-0 before:!bg-opacity-80"},{default:x(()=>[o("figure",null,[o("img",{src:t.image,class:"w-full group-hover:scale-110 transition-transform delay-150 duration-500",alt:`${t.name} poster`},null,8,se)]),o("div",le,[o("h2",{class:"card-title",innerHTML:t.name},null,8,ce),o("div",de,[O(h(B),{class:"btn btn-primary lowercase",to:`/movie/${t.id}`},{default:x(()=>[I(" Select ")]),_:1},8,["to"])])])]),_:1},8,["to"]))}},fe=[{id:0,title:"action"},{id:1,title:"adventures"},{id:2,title:"comedy"},{id:3,title:"drama"},{id:4,title:"horror"},{id:5,title:"westerns"}];var me=typeof global=="object"&&global&&global.Object===Object&&global;const ge=me;var pe=typeof self=="object"&&self&&self.Object===Object&&self,be=ge||pe||Function("return this")();const D=be;var ye=D.Symbol;const T=ye;var G=Object.prototype,_e=G.hasOwnProperty,he=G.toString,_=T?T.toStringTag:void 0;function ve(e){var t=_e.call(e,_),i=e[_];try{e[_]=void 0;var a=!0}catch{}var n=he.call(e);return a&&(t?e[_]=i:delete e[_]),n}var xe=Object.prototype,Te=xe.toString;function we(e){return Te.call(e)}var Se="[object Null]",je="[object Undefined]",A=T?T.toStringTag:void 0;function ke(e){return e==null?e===void 0?je:Se:A&&A in Object(e)?ve(e):we(e)}function $e(e){return e!=null&&typeof e=="object"}var Oe="[object Symbol]";function Ie(e){return typeof e=="symbol"||$e(e)&&ke(e)==Oe}var Ce=/\s/;function Me(e){for(var t=e.length;t--&&Ce.test(e.charAt(t)););return t}var Ne=/^\s+/;function Ee(e){return e&&e.slice(0,Me(e)+1).replace(Ne,"")}function C(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var F=0/0,Le=/^[-+]0x[0-9a-f]+$/i,Be=/^0b[01]+$/i,Pe=/^0o[0-7]+$/i,ze=parseInt;function V(e){if(typeof e=="number")return e;if(Ie(e))return F;if(C(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=C(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Ee(e);var i=Be.test(e);return i||Pe.test(e)?ze(e.slice(2),i?2:8):Le.test(e)?F:+e}var Re=function(){return D.Date.now()};const $=Re;var We="Expected a function",Ae=Math.max,Fe=Math.min;function Ve(e,t,i){var a,n,u,f,s,d,g=0,M=!1,p=!1,w=!0;if(typeof e!="function")throw new TypeError(We);t=V(t)||0,C(i)&&(M=!!i.leading,p="maxWait"in i,u=p?Ae(V(i.maxWait)||0,t):u,w="trailing"in i?!!i.trailing:w);function S(r){var c=a,b=n;return a=n=void 0,g=r,f=e.apply(b,c),f}function H(r){return g=r,s=setTimeout(v,t),M?S(r):f}function U(r){var c=r-d,b=r-g,L=t-c;return p?Fe(L,u-b):L}function N(r){var c=r-d,b=r-g;return d===void 0||c>=t||c<0||p&&b>=u}function v(){var r=$();if(N(r))return E(r);s=setTimeout(v,U(r))}function E(r){return s=void 0,w&&a?S(r):(a=n=void 0,f)}function q(){s!==void 0&&clearTimeout(s),g=0,a=d=n=s=void 0}function X(){return s===void 0?f:E($())}function j(){var r=$(),c=N(r);if(a=arguments,n=this,d=r,c){if(s===void 0)return H(d);if(p)return clearTimeout(s),s=setTimeout(v,t),S(d)}return s===void 0&&(s=setTimeout(v,t)),f}return j.cancel=q,j.flush=X,j}const De={class:"p-5 !pt-24 lg:p-16 h-full w-full flex flex-col max-w-2xl mx-auto flex-1"},Ge={class:"mx-auto mb-7 w-full flex items-center justify-center gap-5"},He={class:"dropdown dropdown-bottom dropdown-end"},Ue={tabindex:"0",class:"btn btn-sm m-1 lowercase flex gap-2"},qe={tabindex:"0",class:"dropdown-content menu p-2 shadow bg-base-100 rounded-box w-52"},Xe=["onClick"],Je={key:0},Ye={__name:"Movies",setup(e){const t=J({genres:new Set,movies:[],input:"",loading:!0});return K([()=>t.genres.size,()=>t.input],Ve(async()=>{try{t.loading=!0;const{data:i}=await ie.get("/movies",{params:{name:t.input,genres:[...t.genres]}});t.movies=i.data}catch{}finally{t.loading=!1}},500),{immediate:!0}),(i,a)=>(l(),y("main",De,[o("div",Ge,[Q(o("input",{"onUpdate:modelValue":a[0]||(a[0]=n=>t.input=n),type:"text",placeholder:"Type here",class:"input input-bordered input-primary w-full input-sm max-w-xs"},null,512),[[Y,t.input]]),o("div",He,[o("label",Ue,[I(" genre "),O(P,null,{default:x(()=>[t.genres.size?(l(),m(W,{key:0,d:h(ee),class:"w-4 h-4 mr-0 ml-auto"},null,8,["d"])):k("",!0)]),_:1})]),o("ul",qe,[(l(!0),y(z,null,R(h(fe),n=>(l(),y("li",{key:n.id},[o("button",{class:"flex gap-5 items-center",onClick:u=>t.genres[t.genres.has(n.id)?"delete":"add"](n.id)},[I(te(n.title)+" ",1),t.genres.has(n.id)?(l(),m(W,{key:0,d:h(ne),class:"w-6 h-6 mr-0 ml-auto"},null,8,["d"])):k("",!0)],8,Xe)]))),128)),O(P,null,{default:x(()=>[t.genres.size?(l(),y("li",Je,[o("button",{class:"flex gap-5 items-center font-bold",onClick:a[1]||(a[1]=(...n)=>t.genres.clear&&t.genres.clear(...n))}," reset ")])):k("",!0)]),_:1})])])]),o("div",{class:Z(["movie-grid",[!t.loading&&t.movies.length?"grid after:flex":"flex flex-1"]])},[t.loading?(l(),m(ae,{key:0,size:"32",class:"m-auto"})):t.movies.length?(l(!0),y(z,{key:2},R(t.movies,n=>(l(),m(ue,re({key:n.id},n),null,16))),128)):(l(),m(oe,{key:1,size:"32",class:"m-auto"}))],2)]))}};export{Ye as default};
